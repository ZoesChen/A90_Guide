HOST_COMPILER_PATH:=$(LOCAL_COMPILER_PATH)
HOST_LIBRARIES_PATH:=$(LIBRARY_PATH)
HOST_ROOT_PATH:=/
#export LD_LIBRARY_PATH=
HOST_PRIVATE_LDFLAGS:=--build-id --eh-frame-hdr -m $(HOST_LD_ELF_FORMAT) --hash-style=gnu $(HOST_GLOBAL_LDFLAGS)

HOST_PRIVATE_CRT1_O_FILE:=$(HOST_LIBRARIES_PATH)/crt1.o
HOST_PRIVATE_CRTI_O_FILE:=$(HOST_LIBRARIES_PATH)/crti.o

HOST_PRIVATE_CRT_O_BEGIN_FILE:= $(HOST_COMPILER_PATH)/crtbeginS.o
HOST_PRIVATE_CRT_O_END_FILE:=$(HOST_COMPILER_PATH)/crtendS.o
HOST_PRIVATE_CRTN_O_FILE:=$(HOST_LIBRARIES_PATH)/crtn.o
HOST_PRIVATE_LD:=--as-needed -lgcc_s -lc $(HOST_GLOBAL_LD)
HOST_PRIVATE_LD_DIR:=$(HOST_COMPILER_PATH) $(HOST_LIBRARIES_PATH)
HOST_PRIVATE_LD_FILE:=$(LD_LIB_PATH)

GLOBAL_HOST_CFLAGS:= -O2

define tranforms_host_o_to_exec
$(hide) $(HOST_LD) $(HOST_PRIVATE_LDFLAGS) \
$(HOST_PRIVATE_LOCAL_LDFLAGS) \
--as-needed -dynamic-linker $(HOST_PRIVATE_LD_FILE) -z relro \
-o $@ \
$(HOST_PRIVATE_CRT1_O_FILE) \
$(HOST_PRIVATE_CRTI_O_FILE) \
$(HOST_PRIVATE_CRT_O_BEGIN_FILE) \
$(addprefix -L,$(HOST_PRIVATE_LD_DIR)) \
$(addprefix -L,$(HOST_GLOBAL_LD_DIR)) \
$^ $(PRIVATE_STATIC_LIBRARIES) \
$(PRIVATE_SHARED_LIBRARIES) \
$(HOST_GLOBAL_SHARED_LDLIBS) \
$(PRIVATE_LOCAL_LDLIBS) \
$(HOST_PRIVATE_LD) \
--no-as-needed $(HOST_PRIVATE_CRT_O_END_FILE) \
$(HOST_PRIVATE_CRTN_O_FILE)
$(HOST_PRIVATE_CRT_O_END)
endef

define tranforms_host_o_to_so
$(hide) $(HOST_LD) $(HOST_PRIVATE_LDFLAGS) \
$(HOST_PRIVATE_LOCAL_LDFLAGS) \
--as-needed -shared -z relro -o \
$@ \
$(HOST_PRIVATE_CRTI_O_FILE) \
$(HOST_PRIVATE_CRT_O_BEGIN_FILE) \
$(addprefix -L,$(HOST_PRIVATE_LD_DIR)) \
$(addprefix -L,$(HOST_GLOBAL_LD_DIR)) \
$^ $(PRIVATE_STATIC_LIBRARIES) \
$(PRIVATE_SHARED_LIBRARIES) \
$(HOST_GLOBAL_SHARED_LDLIBS) \
$(HOST_PRIVATE_LOCAL_LDLIBS) \
$(HOST_PRIVATE_LD) \
--no-as-needed \
$(HOST_PRIVATE_CRT_O_END_FILE) \
$(HOST_PRIVATE_CRTN_O_FILE)
endef
